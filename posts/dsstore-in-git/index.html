<!doctype html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="ie=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="我最近新换了 Mac 系统，使用 git 时发现目录下自动生成了一个隐藏的 .DS_Store 文件。.DS_Store（英文全称 Desktop Services Store）是一种由苹果公司的 Mac OS 操作系统"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="处理 Git 中的 .DS_Store 文件"><meta name="twitter:description" content="我最近新换了 Mac 系统，使用 git 时发现目录下自动生成了一个隐藏的 .DS_Store 文件。.DS_Store（英文全称 Desktop Services Store）是一种由苹果公司的 Mac OS 操作系统"><meta property="og:title" content="处理 Git 中的 .DS_Store 文件"><meta property="og:description" content="我最近新换了 Mac 系统，使用 git 时发现目录下自动生成了一个隐藏的 .DS_Store 文件。.DS_Store（英文全称 Desktop Services Store）是一种由苹果公司的 Mac OS 操作系统"><meta property="og:type" content="article"><meta property="og:url" content="https://exuanbo.xyz/posts/dsstore-in-git/"><meta property="article:published_time" content="2019-01-13T11:36:32+01:00"><meta property="article:modified_time" content="2019-01-13T11:36:32+01:00"><meta itemprop="name" content="处理 Git 中的 .DS_Store 文件"><meta itemprop="description" content="我最近新换了 Mac 系统，使用 git 时发现目录下自动生成了一个隐藏的 .DS_Store 文件。.DS_Store（英文全称 Desktop Services Store）是一种由苹果公司的 Mac OS 操作系统"><meta itemprop="datePublished" content="2019-01-13T11:36:32&#43;01:00"><meta itemprop="dateModified" content="2019-01-13T11:36:32&#43;01:00"><meta itemprop="wordCount" content="412"><meta itemprop="keywords" content="mac,git,"><meta name="google-site-verification" content="dq1h9DPOSfOEVYwYpWaX3eQwpfPIsJHqQcN9TIUcqNQ"><title>处理 Git 中的 .DS_Store 文件 - Exuanbo&#39;s</title><link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png"><link rel="manifest" href="../../site.webmanifest"><style>html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}strong{font-weight:bolder}code{font-family:monospace,monospace;font-size:1em}img{border-style:none}[hidden]{display:none}blockquote,h1,h2,h3,hr,ol,p,pre,ul{margin:0}ol,ul{list-style:none;padding:0}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}h1,h2,h3{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}code,pre{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}img,svg{display:block;vertical-align:middle}img{max-width:100%;height:auto}html{box-shadow:inset 0 2px #cb1b45}main{margin-top:4rem;margin-left:auto;margin-right:auto;max-width:768px}footer{font-size:.9325rem}h1{font-size:1.5rem}h2{font-size:1.25rem}h3{font-size:1.125rem}h1,h2,h3{font-weight:700}.content h2,.content h3{margin-top:2rem;margin-bottom:2rem}h1,p,pre{margin-top:1rem;margin-bottom:1rem}div,p{overflow-wrap:break-word}ol,ul{padding-left:1.5rem}ul{list-style-type:disc}ol ul,ul ul{list-style-type:circle}ol{list-style-type:decimal}ol ol,ul ol{list-style-type:lower-alpha}hr{margin:1rem auto 3rem;--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity));border-style:none}hr:after{display:block;text-align:center;content:"· · ·"}svg{display:inline}pre{padding:1rem;overflow-x:auto}code{font-size:.875rem;background-color:transparent}code,code:not([class]){font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}code:not([class]){--bg-opacity:1;background-color:#f8f4e2;background-color:rgba(248,244,226,var(--bg-opacity));padding:2px 4px;border:1px solid #eee}blockquote{padding-left:.75rem;--border-opacity:1;border-color:#90b44b;border-left:4px;border-color:rgba(144,180,75,var(--border-opacity));border-style:solid}blockquote p{margin-top:.5rem}blockquote:before{width:1rem;height:1rem;display:block;content:"";background:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='48' height='48' viewBox='0 0 100 100'%3E%3Cpath fill='%2390B44B' d='M14.017 21v-7.391C14.017 7.905 17.748 4.039 23 3l.995 2.151C21.563 6.068 20 8.789 20 11h4v10h-9.983zM0 21v-7.391C0 7.905 3.748 4.039 9 3l.996 2.151C7.563 6.068 6 8.789 6 11h3.983v10H0z'/%3E%3C/svg%3E") no-repeat}.toc{top:2px;left:.5rem;max-width:17.5%;font-size:15px}@media (max-width:1280px){.toc{display:none}}#TableOfContents ul{padding-bottom:1rem;padding-left:.75rem;padding-right:.75rem;list-style-type:none}#TableOfContents a:hover{--text-opacity:1;color:#0f4c3a;color:rgba(15,76,58,var(--text-opacity))}.katex *{--border-opacity:1;border-color:#000;border-color:rgba(0,0,0,var(--border-opacity))}.chroma{color:#586e75;background-color:#eee8d5}.chroma .k{color:#859900}.chroma .na{color:#268bd2}.chroma .s,.chroma .s1{color:#2aa198}.space-y-1>:not(template)~:not(template){--space-y-reverse:0;margin-top:calc(0.25rem*(1 - var(--space-y-reverse)));margin-bottom:calc(0.25rem*var(--space-y-reverse))}.space-x-1>:not(template)~:not(template){--space-x-reverse:0;margin-right:calc(0.25rem*var(--space-x-reverse));margin-left:calc(0.25rem*(1 - var(--space-x-reverse)))}.space-x-2>:not(template)~:not(template){--space-x-reverse:0;margin-right:calc(0.5rem*var(--space-x-reverse));margin-left:calc(0.5rem*(1 - var(--space-x-reverse)))}.bg-shironeri{--bg-opacity:1;background-color:#fcfaf2;background-color:rgba(252,250,242,var(--bg-opacity))}.block{display:block}.flex{display:flex}.hidden{display:none}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-center{justify-content:center}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.float-right{float:right}.font-serif{font-family:Georgia,Cambria,Times New Roman,Times,serif}.h-4{height:1rem}.h-screen{height:100vh}.leading-normal{line-height:1.5}.leading-relaxed{line-height:1.625}.leading-loose{line-height:2}.list-none{list-style-type:none}.m-auto{margin:auto}.mx-auto{margin-left:auto;margin-right:auto}.mb-2{margin-bottom:.5rem}.mb-4{margin-bottom:1rem}.mt-8{margin-top:2rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.mb-14{margin-bottom:3.5rem}.mt-20{margin-top:5rem}.-mt-1{margin-top:-.25rem}.-mt-4{margin-top:-1rem}.max-h-full{max-height:100%}.max-w-screen-md{max-width:768px}.opacity-40{opacity:.4}.opacity-50{opacity:.5}.opacity-60{opacity:.6}.overflow-y-auto{overflow-y:auto}.px-3{padding-left:.75rem;padding-right:.75rem}.pl-0{padding-left:0}.pl-3{padding-left:.75rem}.pt-4{padding-top:1rem}.pl-4{padding-left:1rem}.fixed{position:fixed}.shadow-a{box-shadow:inset 0 -4px 0 #dac9a6}.hover\:shadow-a-hover:hover{box-shadow:inset 0 -8px 0 #dac9a6}.fill-current{fill:currentColor}.text-center{text-align:center}.hover\:text-aimirucha:hover{--text-opacity:1;color:#0f4c3a;color:rgba(15,76,58,var(--text-opacity))}.w-4{width:1rem}.transition-shadow{transition-property:box-shadow}.duration-100{transition-duration:.1s}@media (min-width:640px){.sm\:flex-row{flex-direction:row}.sm\:pl-6{padding-left:1.5rem}}</style><link rel="preload" href="https://ackee.exuanbo.xyz/privacy-respected.js" as="script"><link rel="preload" href="https://cdn.jsdelivr.net/npm/disqusjs@3.2.1/dist/browser/styles/disqusjs.css" as="style" onload="this.onload=null,this.rel='stylesheet'"><link rel="preload" href="https://cdn.jsdelivr.net/npm/disqusjs@3.2.1/dist/browser/disqusjs.es2015.umd.min.js" as="script"><script>const loadScript=(source,options)=>new Promise((resolve,reject)=>{let script=document.createElement("script");const prior=document.getElementsByTagName("script")[0];function onloadHander(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=null,script.onreadystatechange=null,script=void 0,isAbort?reject(new Error("Failed to load script")):resolve())}const attributes={async:!1,defer:!0};if(options)for(const i in options)attributes[i]=options[i];for(const i in attributes)script[i]=attributes[i];script.onload=onloadHander,script.onreadystatechange=onloadHander,script.src=source,prior.parentNode.insertBefore(script,prior)});loadScript("https://ackee.exuanbo.xyz/privacy-respected.js",{async:!0}).then(()=>{ackeeTracker.create("https://ackee.exuanbo.xyz",{detailed:!0}).record("16bbfa87-0305-4ca1-8210-cbddc1e4aa7a")});</script></head><body class="px-3 bg-shironeri leading-relaxed font-serif"><aside class="toc fixed pt-4 max-h-full leading-normal overflow-y-auto"><div class="mb-4 pl-3">TOC</div><nav id="TableOfContents"><ul><li><a href="#删除-ds_store">删除 .DS_Store</a></li><li><a href="#全局忽略-ds_store">全局忽略 .DS_Store</a></li><li><a href="#禁用或启用自动生成-ds_store">禁用或启用自动生成 .DS_Store</a></li><li><a href="#延伸阅读">延伸阅读</a></li></ul></nav></aside><nav class="pt-4 mx-auto max-w-screen-md space-x-2"><a class="fill-current hover:text-aimirucha" href="../../"><svg class="w-4 h-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" style="vertical-align:-.75px;"><path d="M12 9.185l7 6.514v6.301h-14v-6.301l7-6.514zm0-2.732l-9 8.375v9.172h18v-9.172l-9-8.375zm2 14.547h-4v-6h4v6zm10-8.852l-1.361 1.465-10.639-9.883-10.639 9.868-1.361-1.465 12-11.133 12 11.148z"/></svg> </a><a class="hover:text-aimirucha" href="../../posts/" title="">POSTS</a><a class="hover:text-aimirucha" href="../../about/" title="">ABOUT</a><a class="hover:text-aimirucha" href="https://exuanbo.xyz/wiki/" target="_blank">WIKI</a></nav><main><h1>处理 Git 中的 .DS_Store 文件</h1><div class="-mt-4 mb-8 opacity-60">Jan 13, 2019</div><div class="content"><p>我最近新换了 Mac 系统，使用 git 时发现目录下自动生成了一个隐藏的 <code>.DS_Store</code> 文件。<code>.DS_Store</code>（英文全称 Desktop Services Store）是一种由苹果公司的 Mac OS 操作系统所创造的隐藏文件，目的在于存贮目录的自定义属性，例如文件们的图标位置或者是背景色的选择。相当于 Windows 系统下的 <code>desktop.ini</code>。</p><h2 id="删除-ds_store">删除 .DS_Store</h2><ol><li>删除项目中的所有 <code>.DS_Store</code>。这会跳过不在项目中的 <code>.DS_Store</code></li></ol><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">find . -name .DS_Store -print0 <span class="p">|</span> xargs -0 git rm -f --ignore-unmatch
</code></pre></div><ol start="2"><li>更新项目</li></ol><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">git add -A
git commit -m <span class="s1">&#39;.DS_Store banished!&#39;</span>
</code></pre></div><p>可以使用下面的命令来删除本地磁盘中当前目录及其子目录下的所有 <code>.DS_Store</code> 文件</p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">find . -name ‘*.DS_Store’ -type f -delete
</code></pre></div><h2 id="全局忽略-ds_store">全局忽略 .DS_Store</h2><p>在今后的使用中为了省去每次单独编辑 git 目录中 <code>.gitignore</code> 文件的麻烦，需要添加全局忽略文件</p><ol><li>创建 <code>~/.gitignore_global</code> 文件，把需要全局忽略的文件写入该文件，语法和 <code>.gitignore</code> 一样</li><li>在 git 配置文件 <code>~/.gitconfig</code> 中引入 <code>.gitignore_global</code> 文件</li></ol><div class="highlight"><pre class="chroma"><code class="language-ini" data-lang="ini"><span class="k">[core]</span>
<span class="na">excludesfile</span> <span class="o">=</span> <span class="s">~/.gitignore_global</span>
</code></pre></div><p>也可以通过这个命令来实现</p><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">git config --global core.excludesfile ~/.gitignore_global
</code></pre></div><h2 id="禁用或启用自动生成-ds_store">禁用或启用自动生成 .DS_Store</h2><ul><li>禁止 <code>.DS_store</code> 生成</li></ul><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">defaults write com.apple.desktopservices DSDontWriteNetworkStores -bool TRUE
</code></pre></div><ul><li>恢复 <code>.DS_store</code> 生成</li></ul><div class="highlight"><pre class="chroma"><code class="language-bash" data-lang="bash">defaults delete com.apple.desktopservices DSDontWriteNetworkStores
</code></pre></div><h2 id="延伸阅读">延伸阅读</h2><ol><li><a class="shadow-a transition-shadow duration-100 hover:shadow-a-hover" href="https://www.zhihu.com/question/20418177" rel="nofollow noopener noreferrer" target="_blank">如何在 GitHub.com 上删除某个 Repository 中的某个文件夹？ - 知乎</a></li><li><a class="shadow-a transition-shadow duration-100 hover:shadow-a-hover" href="https://wild-flame.github.io/guides/docs/mac-os-x-setup-guide/gitignore" rel="nofollow noopener noreferrer" target="_blank">常用 .gitignore · Mac OS X 配置指南</a></li></ol></div><div class="mt-8 mb-4 opacity-60">Tags:&nbsp;<a class="hover:text-aimirucha" href="https://exuanbo.xyz/tags/git/">#&nbsp;git&nbsp;</a><a class="hover:text-aimirucha" href="https://exuanbo.xyz/tags/mac/">#&nbsp;mac&nbsp;</a></div></main><div class="max-w-screen-md mt-10 mx-auto" id="disqusjs"></div><footer class="mt-20 mb-8 pl-4 text-center space-x-1"><span>&copy;</span><span>2025</span><a class="hover:text-aimirucha" href="https://exuanbo.xyz">Exuanbo</a> <span>·</span> <a class="hover:text-aimirucha" href="https://creativecommons.org/licenses/by-nc/4.0/" rel="nofollow noopener noreferrer" target="_blank">CC BY-NC 4.0</a> <a class="hover:text-aimirucha" href="../../index.xml" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 icon icon-tabler icon-tabler-rss" style="vertical-align:-2.375px;" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><circle cx="5" cy="19" r="1"/><path d="M4 4a16 16 0 0 1 16 16"/><path d="M4 11a9 9 0 0 1 9 9"/></svg></a></footer><script>loadScript("https://cdn.jsdelivr.net/npm/disqusjs@3.2.1/dist/browser/disqusjs.es2015.umd.min.js").then(()=>{const loadDisqus=()=>{new DisqusJS({shortname:"exuanbos",siteName:"Exuanbo&#39s",apikey:"BgQNLwMb5CNsHCWWQt0ENC0BHzt1DkszGjBOWiTH5S5MQ7k6WRNeFFUbRULH90L9"}).render()},runningOnBrowser="undefined"!=typeof window,isBot=runningOnBrowser&&!("onscroll"in window)||"undefined"!=typeof navigator&&/(gle|ing|ro|msn)bot|crawl|spider|yand|duckgo/i.test(navigator.userAgent),supportsIntersectionObserver=runningOnBrowser&&"IntersectionObserver"in window;setTimeout(()=>{if(!isBot&&supportsIntersectionObserver){const disqusObserver=new IntersectionObserver(entries=>{entries[0].isIntersecting&&(loadDisqus(),disqusObserver.disconnect())},{threshold:[0]});disqusObserver.observe(document.getElementById("disqusjs"))}else loadDisqus()},0)});</script><script type="module">let mouseoverTimer,lastTouchTimestamp;const prefetches=new Set,prefetchElement=document.createElement("link"),isSupported=prefetchElement.relList&&prefetchElement.relList.supports&&prefetchElement.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,allowQueryString="instantAllowQueryString"in document.body.dataset,allowExternalLinks="instantAllowExternalLinks"in document.body.dataset,useWhitelist="instantWhitelist"in document.body.dataset,mousedownShortcut="instantMousedownShortcut"in document.body.dataset,DELAY_TO_NOT_BE_CONSIDERED_A_TOUCH_INITIATED_ACTION=1111;let delayOnHover=65,useMousedown=!1,useMousedownOnly=!1,useViewport=!1;if("instantIntensity"in document.body.dataset){const intensity=document.body.dataset.instantIntensity;if("mousedown"==intensity.substr(0,"mousedown".length))useMousedown=!0,"mousedown-only"==intensity&&(useMousedownOnly=!0);else if("viewport"==intensity.substr(0,"viewport".length))navigator.connection&&(navigator.connection.saveData||navigator.connection.effectiveType&&navigator.connection.effectiveType.includes("2g"))||("viewport"==intensity?document.documentElement.clientWidth*document.documentElement.clientHeight<45e4&&(useViewport=!0):"viewport-all"==intensity&&(useViewport=!0));else{const milliseconds=parseInt(intensity);isNaN(milliseconds)||(delayOnHover=milliseconds)}}if(isSupported){const eventListenersOptions={capture:!0,passive:!0};if(useMousedownOnly||document.addEventListener("touchstart",touchstartListener,eventListenersOptions),useMousedown?mousedownShortcut||document.addEventListener("mousedown",mousedownListener,eventListenersOptions):document.addEventListener("mouseover",mouseoverListener,eventListenersOptions),mousedownShortcut&&document.addEventListener("mousedown",mousedownShortcutListener,eventListenersOptions),useViewport){let triggeringFunction;triggeringFunction=window.requestIdleCallback?callback=>{requestIdleCallback(callback,{timeout:1500})}:callback=>{callback()},triggeringFunction(()=>{const intersectionObserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){const linkElement=entry.target;intersectionObserver.unobserve(linkElement),preload(linkElement.href)}})});document.querySelectorAll("a").forEach(linkElement=>{isPreloadable(linkElement)&&intersectionObserver.observe(linkElement)})})}}function touchstartListener(event){lastTouchTimestamp=performance.now();const linkElement=event.target.closest("a");isPreloadable(linkElement)&&preload(linkElement.href)}function mouseoverListener(event){if(performance.now()-lastTouchTimestamp<1111)return;const linkElement=event.target.closest("a");isPreloadable(linkElement)&&(linkElement.addEventListener("mouseout",mouseoutListener,{passive:!0}),mouseoverTimer=setTimeout(()=>{preload(linkElement.href),mouseoverTimer=void 0},delayOnHover))}function mousedownListener(event){const linkElement=event.target.closest("a");isPreloadable(linkElement)&&preload(linkElement.href)}function mouseoutListener(event){event.relatedTarget&&event.target.closest("a")==event.relatedTarget.closest("a")||mouseoverTimer&&(clearTimeout(mouseoverTimer),mouseoverTimer=void 0)}function mousedownShortcutListener(event){if(performance.now()-lastTouchTimestamp<1111)return;const linkElement=event.target.closest("a");if(event.which>1||event.metaKey||event.ctrlKey)return;if(!linkElement)return;linkElement.addEventListener("click",(function(event){1337!=event.detail&&event.preventDefault()}),{capture:!0,passive:!1,once:!0});const customEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1,detail:1337});linkElement.dispatchEvent(customEvent)}function isPreloadable(linkElement){if(linkElement&&linkElement.href&&(!useWhitelist||"instant"in linkElement.dataset)&&(allowExternalLinks||linkElement.origin==location.origin||"instant"in linkElement.dataset)&&["http:","https:"].includes(linkElement.protocol)&&("http:"!=linkElement.protocol||"https:"!=location.protocol)&&(allowQueryString||!linkElement.search||"instant"in linkElement.dataset)&&!(linkElement.hash&&linkElement.pathname+linkElement.search==location.pathname+location.search||"noInstant"in linkElement.dataset))return!0}function preload(url){if(prefetches.has(url))return;const prefetcher=document.createElement("link");prefetcher.rel="prefetch",prefetcher.href=url,document.head.appendChild(prefetcher),prefetches.add(url)}</script></body></html>